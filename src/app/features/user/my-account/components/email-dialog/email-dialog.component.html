<div class="email-dialog">
  <span class="header" mat-dialog-title>Changing your email</span>
  <div mat-dialog-content>
    <div class="line">
      <span>Current Email:</span>
      <span>{{ data.email }}</span>
    </div>
    <div class="line">
      <span>New Email:</span>
      <mat-form-field>
        <mat-label>Email</mat-label>
        <input matInput [formControl]="emailFormControl" [errorStateMatcher]="matcher"
               placeholder="Ex. pat@example.com">
        <mat-error *ngIf="emailFormControl.hasError('email')">
          Please enter a valid email address
        </mat-error>
      </mat-form-field>
    </div>
    <span *ngIf="data.errorMessage" class="error-message">{{ data.errorMessage }}</span>
  </div>
  <div mat-dialog-actions>
    <button mat-stroked-button color="primary" (click)="changeEmailEvent.emit(emailFormControl.value)"
            [disabled]="emailFormControl.invalid">Change my email</button>
    <button mat-stroked-button color="warn" mat-dialog-close>Never mind</button>
  </div>
</div>
